<!--
  ~ Copyright (c) 2018 by Nicolas Märchy
  ~
  ~ This file is part of Sporttag PSA.
  ~
  ~ Sporttag PSA is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ Sporttag PSA is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with Sporttag PSA.  If not, see <http://www.gnu.org/licenses/>.
  ~
  ~ Diese Datei ist Teil von Sporttag PSA.
  ~
  ~ Sporttag PSA ist Freie Software: Sie können es unter den Bedingungen
  ~ der GNU General Public License, wie von der Free Software Foundation,
  ~ Version 3 der Lizenz oder (nach Ihrer Wahl) jeder späteren
  ~ veröffentlichten Version, weiterverbreiten und/oder modifizieren.
  ~
  ~ Sporttag PSA wird in der Hoffnung, dass es nützlich sein wird, aber
  ~ OHNE JEDE GEWÄHRLEISTUNG, bereitgestellt; sogar ohne die implizite
  ~ Gewährleistung der MARKTFÄHIGKEIT oder EIGNUNG FÜR EINEN BESTIMMTEN ZWECK.
  ~ Siehe die GNU General Public License für weitere Details.
  ~
  ~ Sie sollten eine Kopie der GNU General Public License zusammen mit diesem
  ~ Programm erhalten haben. Wenn nicht, siehe <http://www.gnu.org/licenses/>.
  ~
  ~
  -->

<!DOCTYPE html>
<html lang="de" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/main :: head(#{page.home.title} + ' - PSA')">
</head>
<body>

<nav class="navbar sticky-top navbar-expand navbar-dark bg-dark">
    <div class="container pl-3 pr-3">
        <a class="navbar-brand" href="#">
            <img width="30" height="30" src="images/psa-logo.svg">
            PSA
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainNavbar"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNavbar">
            <ul class="navbar-nav ml-auto">

                <span class="navbar-text mr-2 ml-2" th:if="${isAuthenticated}"
                      th:text="#{label.hello} + ' ' + ${username}"></span>

                <li th:if="${isAuthenticated}" class="nav-item">
                    <a class="nav-link" th:href="@{/logout}" th:text="#{label.logout}"></a>
                </li>

                <li th:if="${isAuthenticated}" class="nav-item ml-2">
                    <a class="nav-link btn btn-outline-warning" th:href="@{/app}" th:text="#{label.launch}"></a>
                </li>

                <li th:if="!${isAuthenticated}" class="nav-item ml-2">
                    <a class="nav-link btn btn-outline-warning" th:href="@{/login}" th:text="#{label.login}"></a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container-full">
    <div class="jumbotron text-center p-5">
        <div class="container mt-5 mb-5">
            <div th:if="${hasBeenInitialized}" class="alert alert-danger" role="alert">
                You just finished the setup. Please restart PSA!
            </div>

            <h1 th:text="#{page.home.product.lead.title}"></h1>

            <p th:text="#{page.home.product.lead.text}"></p>
        </div>
    </div>

    <div class="container p-5">
        <div class="row">
            <div class="col-lg-12">
                <div class="card-deck">
                    <div class="card border-warning">
                        <div class="card-body">
                            <i class="fa fa-2x fa-play mb-3 text-warning"></i>
                            <h5 class="card-title" th:text="#{page.home.product.tour.title}"></h5>
                            <p class="card-text" th:text="#{page.home.product.tour.text}"></p>
                        </div>
                        <div class="card-footer">
                            <a href="https://billedtrain380.github.io/sporttag-psa/pages/tour" target="_blank"
                               class="card-link text-warning" th:text="#{label.learnMore}"></a>
                        </div>
                    </div>

                    <div class="card border-warning">
                        <div class="card-body">
                            <i class="fa fa-2x fa-book mb-3 text-warning"></i>
                            <h5 class="card-title" th:text="#{page.home.product.features.title}"></h5>
                            <p class="card-text" th:text="#{page.home.product.features.text}"></p>
                        </div>
                        <div class="card-footer">
                            <a href="https://billedtrain380.github.io/sporttag-psa/pages/user-guide" target="_blank"
                               class="card-link text-warning" th:text="#{label.learnMore}"></a>
                        </div>
                    </div>

                    <div class="card border-warning">
                        <div class="card-body">
                            <i class="fa fa-2x fa-palette mb-3 text-warning"></i>
                            <h5 class="card-title" th:text="#{page.home.product.themes.title}"></h5>
                            <p class="card-text" th:text="#{page.home.product.themes.text}"></p>
                        </div>
                        <div class="card-footer">
                            <a href="https://billedtrain380.github.io/sporttag-psa/pages/themes" target="_blank"
                               class="card-link text-warning" th:text="#{label.learnMore}"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<footer class="bg-dark text-light">
    <div class="container pt-3">
        <div class="row">
            <div class="col-lg-8">
                <p class="text-muted">
                    Designed and built in cooperation with <a href="https://www.schule-altendorf.ch/" target="_blank">Primarschule
                    Altendorf</a>.
                </p>
            </div>

            <div class="col-lg-4">
                <div class="float-right">
                    <a class="nav-link text-muted pr-0" href="https://github.com/BilledTrain380/sporttag-psa"
                       target="_blank">
                        <i class="fab fa-2x fa-github"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</footer>

<script>
    // Calculates the min height of the content container based on nav and footer height
    $(document).ready(function () {
        var container = $(".container-full");
        var nav = $("nav");
        var footer = $("footer");
        var navFooterHeight = nav.outerHeight() + footer.outerHeight();
        container.css("min-height", "calc(100vh - " + navFooterHeight + "px)");
    });
</script>

</body>
</html>