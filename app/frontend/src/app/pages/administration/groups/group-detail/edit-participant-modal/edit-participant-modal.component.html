<app-submit-modal title="Edit participant"
                  i18n-title
                  [alert]="alert"
                  [isSubmitEnabled]="form?.valid"
                  (cancel)="cancel()"
                  (submitData)="submit()">
  <div *ngIf="form; else spinner">
    <form [formGroup]="form" appFormHint>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="inputPrename" appFormHintRequired i18n>Prename</label>
          <input id="inputPrename"
                 [formControlName]="formControls.prename"
                 type="text"
                 appInputValidation
                 class="form-control">
          <div *ngIf="form.controls[formControls.prename]?.errors?.required" class="invalid-feedback" i18n>
            Please enter a prename
          </div>
          <div *ngIf="form.controls[formControls.prename]?.errors?.maxlength" class="invalid-feedback" i18n>
            Max length {{form.controls[formControls.prename].errors?.maxlength?.requiredLength}}
          </div>
        </div>
        <div class="form-group col-md-6">
          <label for="inputSurname" appFormHintRequired i18n>Surname</label>
          <input id="inputSurname"
                 [formControlName]="formControls.surname"
                 type="text"
                 appInputValidation
                 class="form-control">
          <div *ngIf="form.controls[formControls.surname]?.errors?.required" class="invalid-feedback" i18n>
            Please enter a surname
          </div>
          <div *ngIf="form.controls[formControls.surname]?.errors?.maxlength" class="invalid-feedback" i18n>
            Max length {{form.controls[formControls.surname].errors?.maxlength?.requiredLength}}
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="inputAddress" appFormHintRequired i18n>Address</label>
        <input id="inputAddress"
               [formControlName]="formControls.address"
               type="text"
               appInputValidation
               class="form-control">
        <div *ngIf="form.controls[formControls.address]?.errors?.required" class="invalid-feedback" i18n>
          Please enter an address
        </div>
        <div *ngIf="form.controls[formControls.address]?.errors?.maxlength" class="invalid-feedback" i18n>
          Max length {{form.controls[formControls.address].errors?.maxlength?.requiredLength}}
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <app-gender-input [formControlName]="formControls.gender"></app-gender-input>
        </div>
        <div class="form-group col-md-6">
          <label appFormHintRequired i18n>Birthday</label>
          <app-date-input [formControlName]="formControls.birthday"></app-date-input>
          <div *ngIf="form.controls[formControls.birthday]?.errors?.required" class="invalid-feedback" i18n>
            Please enter a birthday
          </div>
        </div>
      </div>
    </form>
  </div>

  <ng-template #spinner>
    <app-card-spinner></app-card-spinner>
  </ng-template>
</app-submit-modal>
